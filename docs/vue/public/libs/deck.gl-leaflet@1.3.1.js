!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("leaflet"),require("@deck.gl/core")):"function"==typeof define&&define.amd?define(["exports","leaflet","@deck.gl/core"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).DeckGlLeaflet={},t.L,t.deck)}(this,(function(t,e,i){"use strict";function s(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var n,o,c,r,a,h,l,m,d,u,f,p,_,k,g=s(e);function y(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)}function b(t){return{longitude:t.getCenter().lng,latitude:t.getCenter().lat,zoom:t.getZoom()-1,pitch:0,bearing:0}}"function"==typeof SuppressedError&&SuppressedError;class v extends g.Layer{constructor(t){super(),n.add(this),this._container=void 0,this._deck=void 0,this._animate=void 0,this.props=t}onAdd(){let t=this.getPane();return t?(this._container=g.DomUtil.create("div"),this._container.className="leaflet-layer",y(this,n,"m",c).call(this)&&g.DomUtil.addClass(this._container,"leaflet-zoom-animated"),t.appendChild(this._container),this._deck=function(t,e,s,n){if(!s){const o=b(t);s=new i.Deck({...n,parent:e,controller:!1,style:{zIndex:"auto"},viewState:o})}return s}(this._map,this._container,this._deck,this.props),y(this,n,"m",r).call(this),this):this}onRemove(t){return this._container&&this._deck?(g.DomUtil.remove(this._container),this._container=void 0,this._deck.finalize(),this._deck=void 0,this):this}getEvents(){return{viewreset:y(this,n,"m",l),movestart:y(this,n,"m",m),moveend:y(this,n,"m",d),zoomstart:y(this,n,"m",u),zoom:y(this,n,"m",p),zoomend:y(this,n,"m",_),...y(this,n,"m",c).call(this)?{zoomanim:y(this,n,"m",f)}:{}}}setProps(t){Object.assign(this.props,t),this._deck&&this._deck.setProps(t)}pickObject(t){return this._deck?this._deck.pickObject(t):null}pickMultipleObjects(t){return this._deck?this._deck.pickMultipleObjects(t):[]}pickObjects(t){return this._deck?this._deck.pickObjects(t):[]}}n=new WeakSet,o=function(){return this._map},c=function(){return this._zoomAnimated},r=function(){if(!this._container||!this._deck)return;if(y(this,n,"m",o).call(this)._animatingZoom)return;const t=y(this,n,"m",o).call(this).getSize();this._container.style.width=`${t.x}px`,this._container.style.height=`${t.y}px`;const e=y(this,n,"m",o).call(this)._getMapPanePos().multiplyBy(-1);g.DomUtil.setPosition(this._container,e),function(t,e){const i=b(e);t.setProps({viewState:i}),t.redraw()}(this._deck,this._map)},a=function(){this._deck&&this._deck.props._animate&&(this._animate=this._deck.props._animate,this._deck.setProps({_animate:!1}))},h=function(){this._deck&&this._animate&&(this._deck.setProps({_animate:this._animate}),this._animate=void 0)},l=function(){y(this,n,"m",k).call(this,y(this,n,"m",o).call(this).getCenter(),y(this,n,"m",o).call(this).getZoom()),y(this,n,"m",r).call(this)},m=function(){y(this,n,"m",a).call(this)},d=function(){y(this,n,"m",r).call(this),y(this,n,"m",h).call(this)},u=function(){y(this,n,"m",a).call(this)},f=function(t){y(this,n,"m",k).call(this,t.center,t.zoom)},p=function(){y(this,n,"m",k).call(this,y(this,n,"m",o).call(this).getCenter(),y(this,n,"m",o).call(this).getZoom())},_=function(){y(this,n,"m",h).call(this)},k=function(t,e){if(!this._container)return;const i=y(this,n,"m",o).call(this).getZoomScale(e,y(this,n,"m",o).call(this).getZoom()),s=g.DomUtil.getPosition(this._container),c=y(this,n,"m",o).call(this).getSize().multiplyBy(.5),r=y(this,n,"m",o).call(this).project(y(this,n,"m",o).call(this).getCenter(),e),a=y(this,n,"m",o).call(this).project(t,e).subtract(r),h=c.multiplyBy(-i).add(s).add(c).subtract(a);g.Browser.any3d?g.DomUtil.setTransform(this._container,h,i):g.DomUtil.setPosition(this._container,h)},t.LeafletLayer=v}));
//# sourceMappingURL=deck.gl-leaflet.umd.min.js.map